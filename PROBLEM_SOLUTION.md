# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ø–æ—è–≤–ª—è–ª–∞—Å—å –æ—à–∏–±–∫–∞ "–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö".

## –ü—Ä–∏—á–∏–Ω—ã (–±—ã–ª–æ 2 –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã)

### 1. –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–æ–ª–µ "Style" (DishGroup.ThirdParent)

**–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å:**
- –í –¥–∞–Ω–Ω—ã—Ö –∏–∑ iiko OLAP –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞—Å–æ–≤–∫–∏ –ø–∏–≤–∞ –Ω–µ –∏–º–µ–ª–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- –ü–æ–ª–µ `DishGroup.ThirdParent` –±—ã–ª–æ `null` –¥–ª—è —á–∞—Å—Ç–∏ –∑–∞–ø–∏—Å–µ–π
- –ö–æ–≥–¥–∞ `category_analysis.py` –ø—ã—Ç–∞–ª—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –æ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –º–µ—Ç–æ–¥ `.dropna()`, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–ª –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Å –ø—É—Å—Ç—ã–º —Å—Ç–∏–ª–µ–º
- –ï—Å–ª–∏ —É –±–∞—Ä–∞ –±—ã–ª–æ –º–Ω–æ–≥–æ —Ñ–∞—Å–æ–≤–æ–∫ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –ø—É—Å—Ç—ã–º
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–µ "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö"

**–ü—Ä–∏–º–µ—Ä –∏–∑ –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "DishName": "4Brewers  –°–∏–≥–Ω–∞–ª, –∂/–±. 0,450",
  "DishGroup.ThirdParent": "–°–∞—É—ç—Ä —ç–ª–∏ (–§)",  // ‚úÖ –ï—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—è
  ...
},
{
  "DishName": "4Brewers Bodypositive 0,45 –∂/–±",
  "DishGroup.ThirdParent": null,  // ‚ùå –ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏!
  ...
}
```

**–†–µ—à–µ–Ω–∏–µ:**
–í —Ñ–∞–π–ª–µ `category_analysis.py` –≤ –º–µ—Ç–æ–¥–µ `__init__` –¥–æ–±–∞–≤–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–º–µ–Ω—É –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:

```python
# –ó–∞–º–µ–Ω—è–µ–º –ø—É—Å—Ç—ã–µ (NaN/None) –∑–Ω–∞—á–µ–Ω–∏—è Style –Ω–∞ "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–§)"
self.data['Style'] = self.data['Style'].fillna('–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–§)')
```

–¢–µ–ø–µ—Ä—å:
- –í—Å–µ —Ñ–∞—Å–æ–≤–∫–∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–§)"
- –î–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- –ê–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 2. Emoji –≤ print() –Ω–∞ Windows

**–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å:**
- –í –∫–æ–¥–µ –±—ã–ª–∏ emoji —Å–∏–º–≤–æ–ª—ã –≤ –∫–æ–º–∞–Ω–¥–∞—Ö `print()`: üîë, ‚úÖ, ‚ùå, üìä, –∏ —Ç.–¥.
- Windows –∫–æ–Ω—Å–æ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É cp1251, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç emoji
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã–≤–µ—Å—Ç–∏ emoji Python –≤—ã–¥–∞–≤–∞–ª –æ—à–∏–±–∫—É:
  ```
  UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f511'
  ```
- –≠—Ç–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

**–ì–¥–µ –±—ã–ª–∏ emoji:**
- `iiko_api.py` - –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ API
- `olap_reports.py` - –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
- `data_processor.py` - –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö
- `abc_analysis.py`, `xyz_analysis.py` - –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ
- `app.py` - –≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
–ó–∞–º–µ–Ω–∏–ª–∏ –≤—Å–µ emoji –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –º–µ—Ç–∫–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö:

```python
# –ë—ã–ª–æ:
print("üîë –ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ API...")
print("‚úÖ –£—Å–ø–µ—à–Ω–æ!")
print("‚ùå –û—à–∏–±–∫–∞!")

# –°—Ç–∞–ª–æ:
print("[AUTH] Podklyuchaus k API...")
print("[OK] Uspeshno!")
print("[ERROR] Oshibka!")
```

–¢–µ–ø–µ—Ä—å:
- –ö–æ–Ω—Å–æ–ª—å Windows –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–∏
- –õ–æ–≥–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏

---

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ pandas —Ç–∏–ø–æ–≤ –≤ JSON (–±–æ–Ω—É—Å)

**–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å:**
- –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–≤—ã—Ö –¥–≤—É—Ö –ø—Ä–æ–±–ª–µ–º –ø–æ—è–≤–∏–ª–∞—Å—å —Ç—Ä–µ—Ç—å—è
- Pandas –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö: `int64`, `float64`
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π JSON encoder –≤ Python –Ω–µ —É–º–µ–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —Ç–∏–ø—ã
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç —Å –∞–Ω–∞–ª–∏–∑–æ–º –∫–ª–∏–µ–Ω—Ç—É –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
  ```
  TypeError: Object of type int64 is not JSON serializable
  ```

**–†–µ—à–µ–Ω–∏–µ:**
–í —Ñ–∞–π–ª–µ `category_analysis.py` –≤ –º–µ—Ç–æ–¥–µ `analyze_category` –¥–æ–±–∞–≤–∏–ª–∏ —è–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:

```python
# –ë—ã–ª–æ:
total_revenue = df['TotalRevenue'].sum()  # pandas int64
total_qty = df['TotalQty'].sum()          # pandas int64

# –°—Ç–∞–ª–æ:
total_revenue = float(df['TotalRevenue'].sum())  # –æ–±—ã—á–Ω—ã–π Python float
total_qty = float(df['TotalQty'].sum())          # –æ–±—ã—á–Ω—ã–π Python float
```

–¢–µ–ø–µ—Ä—å:
- –í—Å–µ —á–∏—Å–ª–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Python —Ç–∏–ø—ã
- JSON –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è
- –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä

---

## –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. **category_analysis.py** (—Å—Ç—Ä–æ–∫–∏ 14-15, 91-94)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–º–µ–Ω–∞ null –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–§)"
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ pandas —Ç–∏–ø–æ–≤ –≤ Python —Ç–∏–ø—ã

2. **iiko_api.py** (—Å—Ç—Ä–æ–∫–∏ 28, 36, 39, 44, 57)
   - –£–±—Ä–∞–Ω—ã –≤—Å–µ emoji –∏–∑ print()

3. **olap_reports.py** (—Å—Ç—Ä–æ–∫–∏ 33, 36, 59, 62, 67)
   - –£–±—Ä–∞–Ω—ã –≤—Å–µ emoji –∏–∑ print()

4. **data_processor.py** (—Å—Ç—Ä–æ–∫–∏ 26, 32, 35, 54-56, 65, 82, 113, 119, 126, 138, 155, 160)
   - –£–±—Ä–∞–Ω—ã –≤—Å–µ emoji –∏–∑ print()

5. **app.py** (—Å—Ç—Ä–æ–∫–∏ 199-313)
   - –£–±—Ä–∞–Ω—ã –≤—Å–µ emoji –∏–∑ print() –≤ —Ñ—É–Ω–∫—Ü–∏–∏ analyze_categories()
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ emoji

6. **abc_analysis.py, xyz_analysis.py**
   - –£–±—Ä–∞–Ω—ã –≤—Å–µ emoji –∏–∑ print()

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   python app.py
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:5000`

3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ —Ä–µ–∂–∏–º **"–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"**

4. –í—ã–±–µ—Ä–∏—Ç–µ –±–∞—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ë–æ–ª—å—à–æ–π –ø—Ä. –í.–û")

5. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑"**

6. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   - –°–≤–æ–¥–∫—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ø–∏–≤–∞
   - –¢–æ–ø-10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ –≤—ã—Ä—É—á–∫–µ
   - ABC/XYZ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –î–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —Ñ–∞—Å–æ–≤–∫–∞–º –≤ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

## –ü–æ—á–µ–º—É —ç—Ç–æ –±—ã–ª–æ –≤–∞–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

1. **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö**: –ë–µ–∑ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Ä—è–ª–∏ –≤—Å–µ —Ñ–∞—Å–æ–≤–∫–∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

2. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –Ω–∞ Windows**: Emoji –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

3. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: JSON –æ—à–∏–±–∫–∞ –Ω–µ –¥–∞–≤–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä

–¢–µ–ø–µ—Ä—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! ‚úì
