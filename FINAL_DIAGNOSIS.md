# üîç –§–ò–ù–ê–õ–¨–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –†–ê–°–•–û–ñ–î–ï–ù–ò–Ø

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ü–µ—Ä–∏–æ–¥:** 2025-10-05 - 2025-11-04 (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π)
**–ë–∞—Ä:** –ö—Ä–µ–º–µ–Ω—á—É–≥—Å–∫–∞—è
**–ü–∏–≤–æ:** –§–µ—Å—Ç—Ö–∞—É—Å –•–µ–ª–ª–µ—Å

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```
–ò–¢–û–ì–û: 956 –ø–æ—Ä—Ü–∏–π = 529.50–ª  (437303.95 —Ä—É–±)

–†–∞–∑–±–∏–≤–∫–∞ –ø–æ –ø–æ—Ä—Ü–∏—è–º:
  0.25–ª:   20 –ø–æ—Ä—Ü–∏–π =   5.00–ª
  0.40–ª:   95 –ø–æ—Ä—Ü–∏–π =  38.00–ª
  0.50–ª:  709 –ø–æ—Ä—Ü–∏–π = 354.50–ª
  1.00–ª:  132 –ø–æ—Ä—Ü–∏–∏ = 132.00–ª
```

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:

1. **–î–∞—Ç—ã** - —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ frontend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. **–ü–∞—Ä—Å–∏–Ω–≥** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥—Ä–æ–±–Ω—ã–µ, —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –º–∏–ª–ª–∏–ª–∏—Ç—Ä—ã
3. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ `"—Ñ–µ—Å—Ç—Ö–∞—É—Å —Ö–µ–ª–ª–µ—Å"`
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –∑–∞–ø–∏—Å–∏ —Å –Ω—É–ª–µ–≤—ã–º –æ–±—ä—ë–º–æ–º –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è
5. **–î—É–±–ª–∏** - OrderWaiter.Name —É–±—Ä–∞–Ω –∏–∑ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è /waiters)

## üéØ –ö–∞–∫ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å iiko Office:

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ iiko Office
- –†–∞–∑–¥–µ–ª: –û—Ç—á—ë—Ç—ã ‚Üí OLAP
- –ò–ª–∏: –û—Ç—á—ë—Ç—ã ‚Üí –ü—Ä–æ–¥–∞–∂–∏

### –®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ü–µ—Ä–∏–æ–¥:** —Å 05.10.2025 –ø–æ 04.11.2025
- **–¢–æ—á–∫–∞ –ø—Ä–æ–¥–∞–∂:** –ö—Ä–µ–º–µ–Ω—á—É–≥—Å–∫–∞—è
- **–ì—Ä—É–ø–ø–∞:** –ù–∞–ø–∏—Ç–∫–∏ –†–æ–∑–ª–∏–≤
- **–¢–æ–≤–∞—Ä:** –Ω–∞–π–¥–∏—Ç–µ "–§–µ—Å—Ç—Ö–∞—É—Å –•–µ–ª–ª–µ—Å" (–º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–§–µ—Å—Ç–•–∞—É—Å –≤–∞–Ω –¶–µ–Ω" –∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ –£–¥–∞–ª—ë–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã: –ù–ï –≤–∫–ª—é—á–∞—Ç—å
- ‚úÖ –°–ø–∏—Å–∞–Ω–∏—è: –ù–ï –≤–∫–ª—é—á–∞—Ç—å
- ‚úÖ –¢–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–∂–∏ (–Ω–µ –¥–æ—Å—Ç–∞–≤–∫–∞, –Ω–µ —Å–∞–º–æ–≤—ã–≤–æ–∑ - –µ—Å–ª–∏ —Ç–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –µ—Å—Ç—å)

### –®–∞–≥ 4: –°—Ä–∞–≤–Ω–∏—Ç–µ —Ü–∏—Ñ—Ä—ã
–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **529.50 –ª–∏—Ç—Ä–æ–≤**
- **956 –ø–æ—Ä—Ü–∏–π**
- **437,303.95 —Ä—É–±**

iiko Office –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **??? –ª–∏—Ç—Ä–æ–≤** ‚Üê –ó–ê–ü–ò–®–ò–¢–ï –≠–¢–û –ß–ò–°–õ–û
- **??? –ø–æ—Ä—Ü–∏–π**
- **??? —Ä—É–±**

## üîé –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è:

### 1. –†–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∏–≤–∞
–í iiko –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π:
- "–§–µ—Å—Ç–•–∞—É—Å –•–µ–ª–ª–µ—Å"
- "–§–µ—Å—Ç—Ö–∞—É—Å –•–µ–ª–ª–µ—Å –•–∞–π–ø-–ª–∞–≥–µ—Ä"
- "–§–µ—Å—Ç–•–∞—É—Å –≤–∞–Ω –¶–µ–Ω"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –Ω—É–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π?

### 2. –†–∞–∑–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã
OLAP API –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UTC, –∞ iiko Office - –º–µ—Å—Ç–Ω–æ–µ –≤—Ä–µ–º—è.
–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π –¥–Ω—è (23:00-01:00), –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è.

### 3. –†–∞–∑–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Ç–æ–≤–∞—Ä–æ–≤
–ù–∞—à –∑–∞–ø—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç: `"DishGroup.TopParent" = "–ù–∞–ø–∏—Ç–∫–∏ –†–æ–∑–ª–∏–≤"`

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ iiko Office:** –≤—Å–µ –ª–∏ –ø–æ—Ä—Ü–∏–∏ "–§–µ—Å—Ç—Ö–∞—É—Å –•–µ–ª–ª–µ—Å" –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ?
–ú–æ–∂–µ—Ç –±—ã—Ç—å, –∫–∞–∫–∏–µ-—Ç–æ –ø–æ—Ä—Ü–∏–∏ –≤ –≥—Ä—É–ø–ø–µ "–ù–∞–ø–∏—Ç–∫–∏", "–ü–∏–≤–æ", "–†–∞–∑–ª–∏–≤–Ω–æ–µ" –∏ —Ç.–¥.

### 4. –£–¥–∞–ª—ë–Ω–Ω—ã–µ/–æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
–ù–∞—à —Ñ–∏–ª—å—Ç—Ä:
```json
"DeletedWithWriteoff": ["NOT_DELETED"],
"OrderDeleted": ["NOT_DELETED"]
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –º–æ–∂–µ—Ç iiko Office —É—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã?

## üìä –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:

### –ï—Å–ª–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ ~19 –ª–∏—Ç—Ä–æ–≤:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–Ω–∏:**
   - –í –∫–∞–∫–∏–µ –¥–Ω–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ?
   - –ë—ã–ª–∏ –ª–∏ –≤ —ç—Ç–∏ –¥–Ω–∏ –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–æ–≤?

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π:**
   ```
   python -c "
   from core.olap_reports import OlapReports
   from core.draft_analysis import DraftAnalysis
   import pandas as pd

   olap = OlapReports()
   olap.connect()
   data = olap.get_draft_sales_report('2025-10-05', '2025-11-04', '–ö—Ä–µ–º–µ–Ω—á—É–≥—Å–∫–∞—è')
   olap.disconnect()

   df = pd.DataFrame(data['data'])
   analyzer = DraftAnalysis(df)
   prepared = analyzer.prepare_draft_data()

   # –í—Å–µ –ø–∏–≤–æ —Å '—Ñ–µ—Å—Ç' –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
   fest = prepared[prepared['BeerName'].str.contains('—Ñ–µ—Å—Ç', case=False, na=False)]

   for name in fest['BeerName'].unique():
       total = fest[fest['BeerName'] == name]['VolumeInLiters'].sum()
       print(f'{name}: {total:.2f}–ª')
   "
   ```

3. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ iiko Office:**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ—Ç—á—ë—Ç –≤ Excel
   - –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ —Å –Ω–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## ‚úâÔ∏è –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

–ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ:
1. –°–∫—Ä–∏–Ω—à–æ—Ç –æ—Ç—á—ë—Ç–∞ –∏–∑ iiko Office
2. –¢–æ—á–Ω—ã–π –ø–µ—Ä–∏–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø—Ä–æ–≤–µ—Ä—è–ª–∏
3. –ö–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω—è–ª–∏ –≤ iiko Office
4. –¢–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∏–≤–∞ –≤ iiko Office

–Ø –Ω–∞–π–¥—É –ø—Ä–∏—á–∏–Ω—É! üéØ
